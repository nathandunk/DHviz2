#pragma once

#include <Params.hpp>
#include <Mahi/Util.hpp>
#include <Eigen/Dense>

using namespace mahi::util;

Eigen::MatrixXd get_M(const Eigen::VectorXd Qs){
	double q1 = Qs(0); double q2 = Qs(1); double q3 = Qs(2);

	Eigen::MatrixXd M = Eigen::MatrixXd::Zero(3,3); 

	M(0,0) = 1.0*Ic1zz - 6.12323399573677e-17*Ic2xz*sin(q2 - 1.5707963267949) - 6.12323399573677e-17*Ic2yz*cos(q2 - 1.5707963267949) + 3.74939945665464e-33*Ic2zz - 3.74939945665464e-33*Ic3xz*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - 3.74939945665464e-33*Ic3yz*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + 3.74939945665464e-33*Ic3zz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + 1.0*pow(Pc1x, 2)*m1 + 1.0*pow(Pc1y, 2)*m1 + 6.12323399573677e-17*Pc2x*m2*(6.12323399573677e-17*Pc2x - 1.0*Pc2z*sin(q2 - 1.5707963267949)) - 6.12323399573677e-17*Pc2y*m2*(-6.12323399573677e-17*Pc2y + 1.0*Pc2z*cos(q2 - 1.5707963267949)) + 3.74939945665464e-33*Pc3x*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - 3.74939945665464e-33*Pc3y*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))) + 6.12323399573677e-17*(Ic3xx*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - Ic3xy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3xz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3y*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - Pc3z*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))))*sin(q3) + 6.12323399573677e-17*(-Ic3xy*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + Ic3yy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3yz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3x*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) + Pc3z*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))))*cos(q3) + 1.0*(1.0*Ic2xx*sin(q2 - 1.5707963267949) - 1.0*Ic2xy*cos(q2 - 1.5707963267949) - 6.12323399573677e-17*Ic2xz + Pc2y*m2*(-1.0*Pc2x*cos(q2 - 1.5707963267949) + 1.0*Pc2y*sin(q2 - 1.5707963267949)) - Pc2z*m2*(6.12323399573677e-17*Pc2x - 1.0*Pc2z*sin(q2 - 1.5707963267949)) + (Ic3xx*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - Ic3xy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3xz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3y*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - Pc3z*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))))*cos(q3) - (-Ic3xy*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + Ic3yy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3yz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3x*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) + Pc3z*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))))*sin(q3))*sin(q2 - 1.5707963267949) + 1.0*(-1.0*Ic2xy*sin(q2 - 1.5707963267949) + 1.0*Ic2yy*cos(q2 - 1.5707963267949) - 6.12323399573677e-17*Ic2yz + 1.0*Ic3xz*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + 1.0*Ic3yz*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - 1.0*Ic3zz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc2x*m2*(-1.0*Pc2x*cos(q2 - 1.5707963267949) + 1.0*Pc2y*sin(q2 - 1.5707963267949)) + Pc2z*m2*(-6.12323399573677e-17*Pc2y + 1.0*Pc2z*cos(q2 - 1.5707963267949)) - 1.0*Pc3x*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) + 1.0*Pc3y*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))) + 6.12323399573677e-17*(Ic3xx*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - Ic3xy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3xz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3y*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - Pc3z*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))))*sin(q3) + 6.12323399573677e-17*(-Ic3xy*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + Ic3yy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3yz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3x*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) + Pc3z*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))))*cos(q3))*cos(q2 - 1.5707963267949);
	M(0,1) = 6.12323399573677e-17*Ic2zz - 3.74939945665464e-33*Ic3xz*sin(q3) - 3.74939945665464e-33*Ic3yz*cos(q3) + 2.29584502165847e-49*Ic3zz + 6.12323399573677e-17*pow(Pc2x, 2)*m2 + 6.12323399573677e-17*pow(Pc2y, 2)*m2 + 3.74939945665464e-33*Pc3x*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)) - 3.74939945665464e-33*Pc3y*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)) + 1.0*(-1.0*Ic2xz - 1.0*Pc2x*Pc2z*m2 + (1.0*Ic3xx*sin(q3) - 1.0*Ic3xy*cos(q3) - 6.12323399573677e-17*Ic3xz + Pc3y*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) - Pc3z*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)))*cos(q3) - (-1.0*Ic3xy*sin(q3) + 1.0*Ic3yy*cos(q3) - 6.12323399573677e-17*Ic3yz - Pc3x*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) + Pc3z*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)))*sin(q3))*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*(1.0*Ic3xx*sin(q3) - 1.0*Ic3xy*cos(q3) - 6.12323399573677e-17*Ic3xz + Pc3y*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) - Pc3z*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)))*sin(q3) + 6.12323399573677e-17*(-1.0*Ic3xy*sin(q3) + 1.0*Ic3yy*cos(q3) - 6.12323399573677e-17*Ic3yz - Pc3x*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) + Pc3z*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)))*cos(q3) + 1.0*(-1.0*Ic2yz + 1.0*Ic3xz*sin(q3) + 1.0*Ic3yz*cos(q3) - 6.12323399573677e-17*Ic3zz - 1.0*Pc2y*Pc2z*m2 - 1.0*Pc3x*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)) + 1.0*Pc3y*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)) + 6.12323399573677e-17*(1.0*Ic3xx*sin(q3) - 1.0*Ic3xy*cos(q3) - 6.12323399573677e-17*Ic3xz + Pc3y*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) - Pc3z*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)))*sin(q3) + 6.12323399573677e-17*(-1.0*Ic3xy*sin(q3) + 1.0*Ic3yy*cos(q3) - 6.12323399573677e-17*Ic3yz - Pc3x*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) + Pc3z*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)))*cos(q3))*cos(q2 - 1.5707963267949);
	M(0,2) = 3.74939945665464e-33*Ic3zz + 3.74939945665464e-33*pow(Pc3x, 2)*m3 + 3.74939945665464e-33*pow(Pc3y, 2)*m3 + 6.12323399573677e-17*(-1.0*Ic3xz - 1.0*Pc3x*Pc3z*m3)*sin(q3) + 6.12323399573677e-17*(-1.0*Ic3yz - 1.0*Pc3y*Pc3z*m3)*cos(q3) + 1.0*((-1.0*Ic3xz - 1.0*Pc3x*Pc3z*m3)*cos(q3) - (-1.0*Ic3yz - 1.0*Pc3y*Pc3z*m3)*sin(q3))*sin(q2 - 1.5707963267949) + 1.0*(-1.0*Ic3zz - 1.0*pow(Pc3x, 2)*m3 - 1.0*pow(Pc3y, 2)*m3 + 6.12323399573677e-17*(-1.0*Ic3xz - 1.0*Pc3x*Pc3z*m3)*sin(q3) + 6.12323399573677e-17*(-1.0*Ic3yz - 1.0*Pc3y*Pc3z*m3)*cos(q3))*cos(q2 - 1.5707963267949);
	M(1,0) = -1.0*Ic2xz*sin(q2 - 1.5707963267949) - 1.0*Ic2yz*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*Ic2zz - 6.12323399573677e-17*Ic3xz*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - 6.12323399573677e-17*Ic3yz*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + 6.12323399573677e-17*Ic3zz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + 1.0*Pc2x*m2*(6.12323399573677e-17*Pc2x - 1.0*Pc2z*sin(q2 - 1.5707963267949)) - 1.0*Pc2y*m2*(-6.12323399573677e-17*Pc2y + 1.0*Pc2z*cos(q2 - 1.5707963267949)) + 6.12323399573677e-17*Pc3x*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - 6.12323399573677e-17*Pc3y*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))) + 1.0*(Ic3xx*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - Ic3xy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3xz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3y*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - Pc3z*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))))*sin(q3) + 1.0*(-Ic3xy*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + Ic3yy*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - Ic3yz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3x*m3*(-Pc3x*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + Pc3y*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) + Pc3z*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3))))*cos(q3);
	M(1,1) = 1.0*Ic2zz - 6.12323399573677e-17*Ic3xz*sin(q3) - 6.12323399573677e-17*Ic3yz*cos(q3) + 3.74939945665464e-33*Ic3zz + 1.0*pow(Pc2x, 2)*m2 + 1.0*pow(Pc2y, 2)*m2 + 6.12323399573677e-17*Pc3x*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)) - 6.12323399573677e-17*Pc3y*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)) + 1.0*(1.0*Ic3xx*sin(q3) - 1.0*Ic3xy*cos(q3) - 6.12323399573677e-17*Ic3xz + Pc3y*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) - Pc3z*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)))*sin(q3) + 1.0*(-1.0*Ic3xy*sin(q3) + 1.0*Ic3yy*cos(q3) - 6.12323399573677e-17*Ic3yz - Pc3x*m3*(-1.0*Pc3x*cos(q3) + 1.0*Pc3y*sin(q3)) + Pc3z*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3)))*cos(q3);
	M(1,2) = 6.12323399573677e-17*Ic3zz + 6.12323399573677e-17*pow(Pc3x, 2)*m3 + 6.12323399573677e-17*pow(Pc3y, 2)*m3 + 1.0*(-1.0*Ic3xz - 1.0*Pc3x*Pc3z*m3)*sin(q3) + 1.0*(-1.0*Ic3yz - 1.0*Pc3y*Pc3z*m3)*cos(q3);
	M(2,0) = -1.0*Ic3xz*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) - 1.0*Ic3yz*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + 1.0*Ic3zz*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + 1.0*Pc3x*m3*(Pc3x*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3))) - 1.0*Pc3y*m3*(-Pc3y*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)));
	M(2,1) = -1.0*Ic3xz*sin(q3) - 1.0*Ic3yz*cos(q3) + 6.12323399573677e-17*Ic3zz + 1.0*Pc3x*m3*(6.12323399573677e-17*Pc3x - 1.0*Pc3z*sin(q3)) - 1.0*Pc3y*m3*(-6.12323399573677e-17*Pc3y + 1.0*Pc3z*cos(q3));
	M(2,2) = 1.0*Ic3zz + 1.0*pow(Pc3x, 2)*m3 + 1.0*pow(Pc3y, 2)*m3;

	return M;
}