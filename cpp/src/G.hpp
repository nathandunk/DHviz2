#pragma once

#include <Params.hpp>
#include <Mahi/Util.hpp>
#include <Eigen/Dense>

using namespace mahi::util;

Eigen::VectorXd get_G(const Eigen::VectorXd Qs){
	double q1 = Qs(0); double q2 = Qs(1); double q3 = Qs(2);

	Eigen::VectorXd G = Eigen::VectorXd::Zero(3); 

	G[0] = g*(6.12323399573677e-17*Pc2x*m2*cos(q2 - 1.5707963267949) - 6.12323399573677e-17*Pc2y*m2*sin(q2 - 1.5707963267949) + 3.74939945665464e-33*Pc3x*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - 3.74939945665464e-33*Pc3y*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + 6.12323399573677e-17*(-Pc3x*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)))*cos(q3) + 6.12323399573677e-17*(Pc3y*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)))*sin(q3) + 1.0*(6.12323399573677e-17*Pc2y*m2 - 1.0*Pc2z*m2*cos(q2 - 1.5707963267949) - (-Pc3x*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)))*sin(q3) + (Pc3y*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)))*cos(q3))*sin(q2 - 1.5707963267949) + 1.0*(-6.12323399573677e-17*Pc2x*m2 + 1.0*Pc2z*m2*sin(q2 - 1.5707963267949) - 1.0*Pc3x*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) + 1.0*Pc3y*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + 6.12323399573677e-17*(-Pc3x*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)))*cos(q3) + 6.12323399573677e-17*(Pc3y*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)))*sin(q3))*cos(q2 - 1.5707963267949));
	G[1] = g*(1.0*Pc2x*m2*cos(q2 - 1.5707963267949) - 1.0*Pc2y*m2*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*Pc3x*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - 6.12323399573677e-17*Pc3y*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)) + 1.0*(-Pc3x*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) + Pc3z*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)))*cos(q3) + 1.0*(Pc3y*m3*(-1.0*cos(q2 - 1.5707963267949) + 3.74939945665464e-33) - Pc3z*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)))*sin(q3));
	G[2] = g*(1.0*Pc3x*m3*(-1.0*sin(q3)*sin(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*cos(q3)) - 1.0*Pc3y*m3*(6.12323399573677e-17*sin(q3)*cos(q2 - 1.5707963267949) + 6.12323399573677e-17*sin(q3) + 1.0*sin(q2 - 1.5707963267949)*cos(q3)));

	return G;
}